---
title: "Maindy leisure centre"
subtitle: 'Group 3'
author: "Usama Azhar, Aayush Negi, Havish Bandam, Komal Varshney, Tom Hutchens, Jose Mendoza"
date: "`r format(Sys.time(), '%d %B %Y')`"

output:
  pdf_document:
    toc: yes
  bookdown::pdf_document2:
    citation_package: natbib
    df_print: kable
    extra_dependencies:
      caption: labelfont={bf}
    fig_caption: yes
    highlight: haddock
    keep_tex: yes
    number_sections: yes
    toc: yes
    
biblio-style: apalike
email: studenta@cardiff.ac.uk
fontfamily: times
fontsize: 11pt
geometry: margin=1in
link-citations: yes
bibliography: refs.bib

abstract: The present document is a coursework report for the module MAT021 Foundations of Operational Research and Analytics for the academic year 2021-2022. The work contains a real case study of a leisure/sports centre with the intention of optimising their resources via simulation methods learnt during this module.
---

<!-- set knitr options here -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

<!-- main body starts here -->

\pagebreak

# Introduction {#intro}

The *COVID-19 pandemic* has brought this fast-moving world to a standstill. The impact of this pandemic is massive, and the only strategy to curb the rapid spread of the disease is to follow social distancing. The imposed lockdown, resulting in the closure of business activities, public places, fitness and activity centers, and overall social life, has hampered many aspects of the lives of people including routine fitness activities. 
However, as gyms and fitness centers reopen, a regular visit for a workout looks different today. Often, appointments are required to limit the number of individuals in the building at one time, and cleaning regimens have become more thorough to provide patrons a higher standard of cleanliness, and thus, peace of mind. However, policies do vary among boutique fitness brands and mass market gyms. In fact, some of these differences are not only shining a light on what policies work best, but also the particular gyms that may be best-positioned to survive the COVID-19 pandemic. While people may find themselves in different weight classes at the gym, COVID-19 is also peeling back the curtain and exposing a different type of class divide as well—how smaller, more expensive boutique fitness studios with scheduled classes and limited capacity may be benefiting from having a more controlled environment. In addition, because these boutique fitness studios are pricier, they may also have additional resources—including a higher staff-to-patron ratio—and the time between set classes to conduct more frequent cleaning practices.

**Maindy Leisure Center** is a facility that provides amenities like Gym, Swimming Pool, Cycling Track and other fitness classes like Zumba, Aerobics, Pilates, Yoga etc. The aim of this report is to build a model using simul8, to see where we can maximize the resources being used so that the system works more efficiently. Considering the limitation of allowing only a certain number of people in a closed space, it is important to **simulate** and **identify** the **optimum resources** that should be used within a fitness center while following the social distancing regulations.







# Background {#sec:background}

Managers and specialists have focused on optimising the utilisation of the resources and availability of their spaces in order to ease the application of self distancing rules. These circumstances offer a good opportunity for simulation and optimization work as managers and gym instructors need to cope with the downsized capacity of their centers at the time they try to reduce idle time on equipment and resources that cannot be accessed due to restricted capacity.

The present work will look into the aforementioned leisure centre capacity, resources, staffing to present a solution to optimise these resources. More information about UK government guidance for leisure centres can be found in Appendix III.







# Leisure centre business layout


## Elements describing the simulation

- Entities: Customers / leisure centre users, attending the centre to perform a 1h duration sports activity of their choice.
- Activities: Gym, swimming, or classes, as described below.
- Events: arrive, start activity, end appointment, leave
- Queue: The activities are grouped in different areas depending of their nature or equipment needed (i.e. swimming can only take place in the pool). The queues are to enter a the area where the activity will take place, as described below.
- Resources: Depending on the activity, these will be staffing (monitors) or equipment (bikes or pool capacity).
- Duration and clock time: All activities will have a fixed duration of 1h, and we will assume that all users perform their activities until completion.


## Activities and resources


The centre is divided in 5 different areas. Each area offers different activities that may share resources in between them. We work under the assumption that each member attending the centre will only use **one** area when visiting the center, after having booked a **one hour slot**. A member spending his/her 1 hour booking may however divide this time into different activities, i.e. 20 minutes weight lifting and 40 minutes using machines when using the Gym.



- The list of available activities per area are shown in the following table:

| Gym              | Cycling track     | Swimming            | Studio      | Cycling studio    |
| ---              | -------------     | --------            | ------      | --------------    |
| - Machines       | - Casual cycling  | - Swim for all      | - Yoga      | - Group cycling   |
| - Weight lifting | - Learn to ride   | - Swim for fitness  | - Aerobics  |                   |
|                  | - Better go ride  | - Swim for 60+      | - Pilates   |                   |
|                  |                   | - Swim for women    | - Circuits  |                   |
|                  |                   | - Aqua aerobics     | - Zumba     |                   |
|                  |                   |                     | - Box fit   |                   |


- The list of resources linked to each activity are shown below:

| Gym               | Cycling track     | Swimming            | Studio               | Cycling studio    |
| ---               | -------------     | --------            | ------               | --------------    |
| - Trainers        | - Equipment       | - Life guard        | - Class instructors  | - Lead trainer    |
| - Support staff   |                   | - Trainer           |                      |                   |
| - Personal trainer|                   |                     |                      |                   |                   







# Data collection and preparation

## Problem definition

Most issues are common to many leisure centres and have been addressed by the centre manager and his main concerns/objectives. The simulation model will try to give answers to the following issues/concerns:


1. Identify areas where more resources are required (i.e. gym equipment)
By analyzing queues for free weights, cardio equipment and machines, we could identify the areas where more equipment may need to be purchased.


2. Convolution of Swim Lanes:
Customers may tend to saturate one swimming lane depending of their preference on swimming speed. Again, by observing how many members populate each lane we can decide whether the size of these lanes need to be redesigend to reduce congestion.


3. Reduce the waitlist for activities, i.e. waitlist for Dance Studio 1.
We can use the model to select how we can mitigate the number of people in the waitlist


4. Resource optimization in following areas :
- Pool : Convolution of lanes may result in work hours of lifeguards which can inturn help in reduction of staff.
- Reception : By comparing wait times at peak/non peak times, we can reduce part time and full time staff.
- Dance studio 1 : Some of the exercises like zumba and pilates have same instructors so by looking at the data we can merge two - classes of the same type which will result in decrease of one or two trainers
- Also for the classes which have a waitlist we can simply just suggest that number of trainers to be increased this is not actually resource optimization but this way we can optimize queue in the waitlist









## Data collection

Training times and attendance have been collected empirically with visits at the leisure centre. Collected times have been used for sampling purposes only as the centre owner showed concers on whether this activity would have an impact in customer satisfaction.

Sample data manually collected is shown in Appendix I.














# Simulation Model


## Assumption and rules

We worked under the assumption that each activity is a single booking slot with a fixed duration of 1h. Customers won't be allowed to book more than one slot per day, and they will always complete the whole activity (one hour).


### Gym

- **Arrival times** have been scheduled following the phone app **Better UK**. Customers will use this application to book 1h slots, starting **any time from 06:00 to 20:20, at intervals of 10 minutes**. The batch size for each entry slot will be 5 customers. This sets up the maximum hourly capacity of the gym which is 14 users.


### Pool
- The pool has a capacity of **33 users at the time**. Initially the capacity is divided equally between the three lanes, this is **11 users each**. There is a queue at pool arrival from which all users will route out as a percentage, being 50% of users going for the fast lane, and 25% each for the remaining two. The queue at pool arrival represents the fitting rooms and lockers, therefore all users will need to queue at this point regardless of which lane they prefer to use.


### Cycling track
- The cycling track offers two activities: Better go ride (25% attendance) and casual cycling, where the rest of users go. Same as with the pool, there is a queue before activity choice that represents reception and resources allocation (bikes, etc.)


### Dance studio and cycling studio
- Each activity has already been allocated to a specific room, therefore users who have already book a slot for their class can go to that room directly. Therefore there is no general queue for the dance studio, but for each of the classes.


\pagebreak






## Layout

- The **Simul8 model** has been deployed using a queuing system as per the aforementioned description:

![Simul8 model](simul8_01.jpg){width=80%}



## Modelling

- Arrival times are modelled following an **exponential distribution**[^1]: $$ f(x; \lambda) = \lambda e^{-\lambda x} | x\ge 0$$

![Exponential distribution](exp_dist.jpg){width=40%}

[^1]: Exponential distribution is the most suitable choice in queueing theory.

\pagebreak



## Strategy and approach


Once the data was collected and the activity flow diagram was complete thought was then given to the creation of the model itself. The simulation software Simul8 was used to form the model. This is a process-based software, meaning that the entities flow through the model until they are blocked, either by a time-based obstacle or for a condition to become true.

From the data it was decided that there were three major areas that the model should cover: resources, queueing size at peak times. The collected data enabled probability distributions to be placed on these events so that the element of randomness was accounted for in the model.







# Experiments and tests


## Verification

The weights area is suspected to be a bottleneck as suggested by the site manager. When running the simulation we find that resources are maxed out at peak times and queues building up accordingly.


## Validation


\pagebreak









# Scenario testing

## Scenario 1

## Scenario 2

\pagebreak











# Appendix I.
- Data collection


\pagebreak




# Appendix II.
Simul8 model

\pagebreak



# Appendix III.

More information about the UK government advice and guidance for leisure and sport centres can be found in the below link:

[https://www.gov.uk/government/publications/guidance-on-coronavirus-covid-19-measures-for-grassroots-sport-participants-providers-and-facility-operators/guidance-on-coronavirus-covid-19-measures-for-grassroots-sport-participants-providers-and-facility-operators]

\pagebreak





# Citations 
See for example [@nelson01] and [@pidd01].





